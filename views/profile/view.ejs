<%- include('../partials/navbar') %>
<div class="content-wrapper">
<%- include('../partials/flash') %>
<div class="container-fluid p-0">
    <div class="profile-header">
        <div class="profile-cover"></div>
        <div class="profile-info-container">
            <div class="profile-picture-wrapper">
                <% if (profile.profile_picture) { %>
                    <img src="/<%= profile.profile_picture %>" alt="Profile" class="profile-picture-large">
                <% } else { %>
                    <div class="profile-picture-placeholder"><%= profile.name.charAt(0).toUpperCase() %></div>
                <% } %>
            </div>
            <div class="profile-info-text">
                <h4 class="mb-1"><%= profile.name %></h4>
                <p class="text-muted small mb-2">
                    <%- getRoleBadge(profile.role) %>
                    <% if (profile.designation && profile.company) { %>
                        <br><%= profile.designation %> at <%= profile.company %>
                    <% } %>
                </p>
                <% if (isOwnProfile) { %>
                    <a href="/profile/edit/<%= profile.id %>" class="btn btn-sm btn-primary">
                        <i class="bi bi-pencil me-1"></i>Edit Profile
                    </a>
                <% } %>
            </div>
        </div>
    </div>
    <div class="p-3">
        <% if (profile.bio) { %>
        <div class="card mb-3">
            <div class="card-body">
                <h6 class="card-title"><i class="bi bi-person-lines-fill me-2"></i>About</h6>
                <p class="card-text"><%= profile.bio %></p>
            </div>
        </div>
        <% } %>
        <div class="card mb-3">
            <div class="card-body">
                <h6 class="card-title"><i class="bi bi-info-circle me-2"></i>Details</h6>
                <% if (profile.batch_year) { %>
                <div class="detail-item">
                    <i class="bi bi-calendar3"></i>
                    <div>
                        <small class="text-muted">Batch Year</small>
                        <div><%= profile.batch_year %></div>
                    </div>
                </div>
                <% } %>
                <% if (profile.department) { %>
                <div class="detail-item">
                    <i class="bi bi-book"></i>
                    <div>
                        <small class="text-muted">Department</small>
                        <div><%= profile.department %></div>
                    </div>
                </div>
                <% } %>
                <% if (profile.location) { %>
                <div class="detail-item">
                    <i class="bi bi-geo-alt"></i>
                    <div>
                        <small class="text-muted">Location</small>
                        <div><%= profile.location %></div>
                    </div>
                </div>
                <% } %>
            </div>
        </div>
    </div>
</div>
</div>
<%- include('../partials/bottom-nav') %>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>